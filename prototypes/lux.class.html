<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>LUX Documentation and Reference</title>
    <link rel="stylesheet"
    href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script
    src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
    </script>
    <script
    src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js">
    </script>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>


  <nav class="navbar navbar-inverse">
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-0 col-md-1 col-lg-2"></div>
        <div class="col-xs-12 col-md-10 col-lg-8">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target="#luxNavbar">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../index.html">
              Lua Utility eXtension
            </a>
          </div>
          <div class="collapse navbar-collapse" id="luxNavbar">
            <ul class="nav navbar-nav">
                  <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown"
                       href="#">
                      Modules
                      <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li
                          >
                          <a href="../modules/lux.functional.html">
                            lux.functional
                          </a>
                        </li>
                        <li
                          >
                          <a href="../modules/lux.info.html">
                            lux.info
                          </a>
                        </li>
                        <li
                          >
                          <a href="../modules/lux.macro.html">
                            lux.macro
                          </a>
                        </li>
                        <li
                          >
                          <a href="../modules/lux.macro.takeover.html">
                            lux.macro.takeover
                          </a>
                        </li>
                        <li
                          >
                          <a href="../modules/lux.pack.html">
                            lux.pack
                          </a>
                        </li>
                        <li
                          >
                          <a href="../modules/lux.path.html">
                            lux.path
                          </a>
                        </li>
                        <li
                          >
                          <a href="../modules/lux.portable.html">
                            lux.portable
                          </a>
                        </li>
                        <li
                          >
                          <a href="../modules/lux.color.html">
                            lux.color
                          </a>
                        </li>
                        <li
                          >
                          <a href="../modules/lux.test.html">
                            lux.test
                          </a>
                        </li>
                    </ul>
                  </li>
                  <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown"
                       href="#">
                      Classes
                      <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li
                          >
                          <a href="../classes/lux.struct.Queue.html">
                            lux.struct.Queue
                          </a>
                        </li>
                    </ul>
                  </li>
                  <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown"
                       href="#">
                      Prototypes
                      <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li
                          class="active">
                          <a href="../prototypes/lux.class.html">
                            lux.class
                          </a>
                        </li>
                        <li
                          >
                          <a href="../prototypes/lux.prototype.html">
                            lux.prototype
                          </a>
                        </li>
                        <li
                          >
                          <a href="../prototypes/lux.datastruct.List.html">
                            lux.datastruct.List
                          </a>
                        </li>
                    </ul>
                  </li>
                  <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown"
                       href="#">
                      Examples
                      <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li
                          >
                          <a href="../examples/some.lua.html">
                            some.lua
                          </a>
                        </li>
                    </ul>
                  </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li>
                <a href="https://github.com/Kazuo256/luxproject">
                  GitHub Page
                </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-xs-0 col-md-1 col-lg-2"></div>
      </div>
    </div>
  </nav>

  <div class="container-fluid">


    <div class="row">
      <div class="col-xs-0 col-md-2 col-lg-3"></div>
      <div class="col-xs-12 col-md-8 col-lg-6">
        <div id="main">


          <!-- Menu -->



          <div id="content">


              <h1>
                lux.class
                <small>a LUX prototype</small>
              </h1>

              <div class="row" style="height:2em"></div>

              <p>
                A class-based implementation object oriented programming.
                  Ironically, this is actually a prototype, which means it inherits from
  <a href="../prototypes/lux.prototype.html#">lux.prototype</a>, but otherwise provides its own mechanism for OOP.
  Be sure to check <a href="../prototypes/lux.class.html#class:instance">instance</a>, <a href="../prototypes/lux.class.html#class:inherit">inherit</a> and <a href="../prototypes/lux.class.html#class:super">super</a> usages.</p>

<p>  <strong><em>This module requires macro takeover in order to work properly</em></strong>
              </p>



                <h4>Usage:</h4>
                <ul>
                    <pre class="example"><span class="keyword">local</span> MyClass = <span class="global">require</span> <span class="string">'lux.class'</span> :new{}</pre>
                </ul>


                <h2>
                  <a name="Functions"></a>
                  Functions
                </h2>

                <dl class="function">
                    <dt>
                      <a name = "class:instance"></a>
                      <h3 class="text-primary">
                        class:instance&nbsp;(_ENV, ...)
                      </h3>
                    </dt>
                    <dd>
                      Defines how an instance of the class should be constructed.
                        This function is supposed to only be overriden, not called from the user&rsquo;s
  side. By populating the <code>_ENV</code> parameter provided in this factory-like
  strategy method is what creates class instances in this OOP feature.
  This is actually done automatically: every &ldquo;global&rdquo; variable or function
  you define inside this function is instead stored as a corresponding object
  field.

                          <h4>Parameters:</h4>
                        <ul>
                              <li>
                                <kbd>
                                  <strong class="text-type">
                                      <span class="type">object</span>
                                  </strong>
                                  _ENV</kbd>
                                <p>
                                    The to-be-constructed object. Its name must be exactly <code>_ENV</code>
                                </p>
                                </li>
                              <li>
                                <kbd>
                                  <strong class="text-type">
                                      any
                                  </strong>
                                  ...</kbd>
                                <p>
                                    Arguments required by the construction of objects from the current class
                                </p>
                                </li>
                        </ul>


                        <h4>Usage:</h4>
                        <ul>

                            <pre class="example">
  <span class="keyword">local</span> MyClass = <span class="global">require</span> <span class="string">'lux.class'</span> :new{}
  <span class="keyword">local</span> <span class="global">print</span> = <span class="global">print</span> <span class="comment">-- must explicitly enclosure dependencies
</span>  <span class="keyword">function</span> MyClass:instance (_ENV, x)
    <span class="comment">-- public field
</span>    y = <span class="number">1337</span>
    <span class="comment">-- private field
</span>    <span class="keyword">local</span> a_number = <span class="number">42</span>
    <span class="comment">-- public method
</span>    <span class="keyword">function</span> show ()
      <span class="global">print</span>(a_number + x)
    <span class="keyword">end</span>
  <span class="keyword">end</span>

  myobj = MyClass(<span class="number">8001</span>)
  <span class="comment">-- call without colons!
</span>  myobj.show()</pre>

                        </ul>

                        <h4>See also:</h4>
                        <ul>

                            <a href="../examples/some.lua.html#">
                              some.lua
                            </a>

                        </ul>

                    </dd>
                    <div class="row" style="height:2em"></div>
                    <dt>
                      <a name = "class:inherit"></a>
                      <h3 class="text-primary">
                        class:inherit&nbsp;(another_class)
                      </h3>
                    </dt>
                    <dd>
                      Makes this class inherit from another.
                        This guarantess that instances from the former are also instances from the
  latter. The semantics differs from that of inheritance through prototyping!
  Also, it is necessary to call <a href="../prototypes/lux.class.html#class:super">super</a> inside the current class'
  <a href="../prototypes/lux.class.html#class:instance">instance</a> definition method since there is no way of guessing how the
  parent class' constructor should be called.

                          <h4>Parameters:</h4>
                        <ul>
                              <li>
                                <kbd>
                                  <strong class="text-type">
                                      <span class="type">class</span>
                                  </strong>
                                  another_class</kbd>
                                <p>
                                    The class being inherited from
                                </p>
                                </li>
                        </ul>


                        <h4>Usage:</h4>
                        <ul>

                            <pre class="example">
  <span class="keyword">local</span> class = <span class="global">require</span> <span class="string">'lux.class'</span>
  <span class="keyword">local</span> ParentClass = class:new{}
  <span class="keyword">local</span> ChildClass = class:new{}
  ChildClass:inherit(ParentClass)</pre>

                        </ul>

                        <h4>See also:</h4>
                        <ul>

                            <a href="../prototypes/lux.class.html#class:super">
                              class:super
                            </a>

                        </ul>

                    </dd>
                    <div class="row" style="height:2em"></div>
                    <dt>
                      <a name = "class:__call"></a>
                      <h3 class="text-primary">
                        class:__call&nbsp;(...)
                      </h3>
                    </dt>
                    <dd>
                      The class constructor.
                        This is how someone actually instantiates objects from this class system.
  After having created a new class and defined its <a href="../prototypes/lux.class.html#class:instance">instance</a> method, calling
  the class itself behaves as expected by calling the constructor that will
  use the <a href="../prototypes/lux.class.html#class:instance">instance</a> method to create the object.

                          <h4>Parameters:</h4>
                        <ul>
                              <li>
                                <kbd>
                                  <strong class="text-type">
                                      any
                                  </strong>
                                  ...</kbd>
                                <p>
                                    The constructor parameters as specified in the <a href="../prototypes/lux.class.html#class:instance">instance</a>
                                </p>
                                </li>
                        </ul>

                        <h4>Returns:</h4>
                          <ol>

                              <kbd><strong class="text-type">
                              <span class="type">object</span></strong></kbd>
                              <p>
                                A new instance from the current class.
                              </p>

                          </ol>



                    </dd>
                    <div class="row" style="height:2em"></div>
                    <dt>
                      <a name = "class:super"></a>
                      <h3 class="text-primary">
                        class:super&nbsp;(obj, ...)
                      </h3>
                    </dt>
                    <dd>
                      Calls the parent class' constructor.
                        Should only be called inside this class' <a href="../prototypes/lux.class.html#class:instance">instance</a> definition method when
  it inherits from another class.

                          <h4>Parameters:</h4>
                        <ul>
                              <li>
                                <kbd>
                                  <strong class="text-type">
                                      <span class="type">object</span>
                                  </strong>
                                  obj</kbd>
                                <p>
                                    The object being constructed by the child class, that is, the <code>_ENV</code>
  parameter passed to <a href="../prototypes/lux.class.html#class:instance">instance</a>
                                </p>
                                </li>
                              <li>
                                <kbd>
                                  <strong class="text-type">
                                      any
                                  </strong>
                                  ...</kbd>
                                <p>
                                    The parent class' constructor parameters
                                </p>
                                </li>
                        </ul>


                        <h4>Usage:</h4>
                        <ul>

                            <pre class="example">
  <span class="comment">-- After ChildClass inherited ParentClass
</span>  <span class="keyword">function</span> ChildClass:instance (_ENV, x, y)
    self:super(_ENV, x + y) <span class="comment">-- parent's constructor parameters
</span>    <span class="comment">-- Finish instancing
</span>  <span class="keyword">end</span></pre>

                        </ul>

                        <h4>See also:</h4>
                        <ul>

                            <a href="../prototypes/lux.class.html#class:inherit">
                              class:inherit
                            </a>

                        </ul>

                    </dd>
                    <div class="row" style="height:2em"></div>
                </dl>


          </div> <!-- id="content" -->
        </div> <!-- id="main" -->
        <div id="about">
        </div> <!-- id="about" -->
      </div>
      <div class="col-xs-0 col-md-2 col-lg-3"></div>
    </div> <!-- content row -->
  </div> <!-- class="container" -->
</body>
</html>

